<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module  node-liveosc
 * @author Tom Dinchak &lt;dinchak@gmail.com>
 */

var chalk = require('chalk');
var OscReceiver = require('osc-receiver');
var OscEmitter = require('osc-emitter');
var Song = require('./lib/song');

/**
 * LiveOSC sets up communication with LiveOSC and holds the song object.
 *
 * Options are as follows:
 *
 * opts.host = host to listen on, default 127.0.0.1
 * opts.port = port to listen on, default 9006
 * opts.liveHost = host live is running on, default 127.0.0.1
 * opts.livePort = port live is listening on, default 9005
 * opts.waitTime = time to wait before sending ready event
 * @constructor
 * @param {Object} opts options
 */
var LiveOSC = function (opts) {
  opts = opts || {};
  this.host = opts.host || '127.0.0.1';
  this.port = opts.port || 9006;
  this.liveHost = opts.liveHost || '127.0.0.1';
  this.livePort = opts.livePort || 9005;
  this.waitTime = opts.waitTime || 1000;
  this.debug = opts.debug || false;

  this.emitter = new OscEmitter();
  this.emitter.add(this.liveHost, this.livePort);
  
  this.receiver = new OscReceiver();
  this.receiver.bind(this.port);

  if (this.debug) {
    this.receiver.on('message', function () {
      console.log(chalk.magenta('From Live: ') + Array.prototype.slice.call(arguments, 0).join(', '));
    });
    var emit = this.emitter.emit;
    this.emitter.emit = function () {
      var args = Array.prototype.slice.call(arguments, 0).map(function (prm) {
        if (typeof prm.value != 'undefined') {
          return prm.value;
        }
        return prm;
      });
      console.log(chalk.green('  To Live: ') + args.join(', '));
      emit.apply(this, arguments);
    };
  }

  this.song = new Song(this);
};

module.exports = LiveOSC;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-node-liveosc.html">node-liveosc</a></li></ul><h3>Classes</h3><ul><li><a href="module-node-liveosc-Clip.html">Clip</a></li><li><a href="module-node-liveosc-Device.html">Device</a></li><li><a href="module-node-liveosc-LiveOSC.html">LiveOSC</a></li><li><a href="module-node-liveosc-Return.html">Return</a></li><li><a href="module-node-liveosc-Song.html">Song</a></li><li><a href="module-node-liveosc-Track.html">Track</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha9</a> on Sun Jul 13 2014 14:45:08 GMT-0700 (MST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
